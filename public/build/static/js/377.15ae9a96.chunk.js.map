{"version":3,"file":"static/js/377.15ae9a96.chunk.js","mappings":"uMA2BA,QAxBAA,eAA+BC,GAE3B,IACI,MAAMC,QAAiBC,MAAM,8CAADC,OAA+CH,GAAK,CAC5EI,OAAQ,SACRC,QAAS,CACL,eAAgB,sBAKxB,IAAKJ,EAASK,GACV,MAAM,IAAIC,MAAM,uBAADJ,OAAwBF,EAASO,SAGpD,WAD6DP,EAASQ,QAC9CC,QACpB,MAAM,IAAIH,MAAM,uBAEpB,MAAO,YACX,CAAC,MAAMI,IACHC,EAAAA,EAAAA,GAAaD,EACjB,CACJ,E,+BClBO,SAASE,IACZ,MAAOC,EAAkBC,IAAuBC,EAAAA,EAAAA,UAAS,KAClDC,EAAcC,IAAmBF,EAAAA,EAAAA,UAAS,KAC1CG,EAAeC,IAAoBJ,EAAAA,EAAAA,WAAS,GAE7CK,GAAaC,EAAAA,EAAAA,MAanB,IAZAC,EAAAA,EAAAA,YAAU,KACgBxB,iBACCyB,EAAAA,EAAAA,KAEnBJ,GAAiB,GAEjBC,EAAW,SACb,EAEFI,EAAgB,GACjB,CAACJ,KAECF,EACD,OAAO,KAeX,OACIO,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIF,EAAAA,EAAAA,KAAA,QAAMG,SAPiDC,IAC3DA,EAAEC,gBAAgB,EAMeH,UACrBI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaL,SAAA,EACxBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,YACJF,EAAAA,EAAAA,KAAA,SAAOQ,QAAQ,MAAKN,SAAC,oBACrBF,EAAAA,EAAAA,KAAA,SAAOS,MAAOrB,EAAkBsB,KAAK,OAAOpC,GAAG,MAAMqC,KAAK,MAAMC,SAAUR,GAAIf,EAAoBe,EAAES,OAAOJ,UAAST,EAAAA,EAAAA,KAAA,UACpHA,EAAAA,EAAAA,KAAA,SAAOO,UAAU,eAAeG,KAAK,SAASD,MAAM,SAASK,QAnBjFzC,iBACI,MAAM0C,QAA6BC,EAAeC,SAAS7B,SAC9B8B,IAAzBH,GACAvB,EAAgBuB,EAExB,KAeoBf,EAAAA,EAAAA,KAAA,KAAAE,SAAIX,UAQ5B,CAEA,S","sources":["apis/deleteEmployee.ts","components/DeleteEmployeeCompo.tsx"],"sourcesContent":["import handlerError from \"../ultils/handleErrors\";\r\nimport { ResponseForGetListEmployees } from \"./interfaces\";\r\n\r\nasync function deleteEmployee (id:number): Promise<string|undefined>\r\n{\r\n    try{\r\n        const response = await fetch(`http://localhost:3001/api/employees/delete/${id}`,{\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n            \r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error(`HTTP error! Status: ${response.status}`);\r\n        }\r\n        const responseFromServer:ResponseForGetListEmployees = await response.json();\r\n        if (!responseFromServer.success){\r\n            throw new Error(\"Can't retrieve data\");\r\n        }\r\n        return \"Successful\";\r\n    }catch(error){\r\n        handlerError(error);\r\n    }\r\n}\r\n\r\nexport default deleteEmployee;","import React from \"react\";\r\nimport { useState,useEffect } from \"react\";\r\nimport './../App.css'\r\nimport deleteEmployee from \"../apis/deleteEmployee\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport validateToken from \"../apis/validateToken\";\r\n\r\nexport function DeleteEmployeeCompo(){\r\n    const [deleteEmployeeId, setDeleteEmployeeId] = useState('');\r\n    const [deleteResult, setDeleteResult] = useState('');\r\n    const [accessGranted, setAccessGranted] = useState(false);\r\n\r\n    const navigation = useNavigate();\r\n    useEffect(() => {\r\n        const resultChecking =async () => {\r\n          const result = await validateToken();\r\n          if (result){\r\n            setAccessGranted(true);\r\n          }else{\r\n            navigation('/login')\r\n          }\r\n        };\r\n        resultChecking();\r\n    }, [navigation]);\r\n\r\n    if (!accessGranted) {\r\n        return null;\r\n    }\r\n\r\n    async function handleSubmitDeleteEmployee (){\r\n        const deleteEmployeeResult = await deleteEmployee(parseInt(deleteEmployeeId));\r\n        if (deleteEmployeeResult !== undefined){\r\n            setDeleteResult(deleteEmployeeResult);\r\n        }\r\n    }\r\n\r\n    const handleSubmit: React.FormEventHandler<HTMLFormElement> = (e) => {\r\n        e.preventDefault()\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n            <form onSubmit={handleSubmit}>\r\n                    <div className=\"api_section\">\r\n                        <h1>Delete</h1>\r\n                        <label htmlFor=\"did\">Choose the ID:</label>\r\n                        <input value={deleteEmployeeId} type=\"text\" id=\"did\" name=\"did\" onChange={e=> setDeleteEmployeeId(e.target.value)}/><br/>\r\n                        <input className=\"input_button\" type=\"submit\" value=\"Submit\" onClick={handleSubmitDeleteEmployee}/>\r\n                        <p>{deleteResult}</p>\r\n\r\n\r\n                    </div>\r\n\r\n            </form>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default DeleteEmployeeCompo;"],"names":["async","id","response","fetch","concat","method","headers","ok","Error","status","json","success","error","handlerError","DeleteEmployeeCompo","deleteEmployeeId","setDeleteEmployeeId","useState","deleteResult","setDeleteResult","accessGranted","setAccessGranted","navigation","useNavigate","useEffect","validateToken","resultChecking","_jsx","_Fragment","children","onSubmit","e","preventDefault","_jsxs","className","htmlFor","value","type","name","onChange","target","onClick","deleteEmployeeResult","deleteEmployee","parseInt","undefined"],"sourceRoot":""}